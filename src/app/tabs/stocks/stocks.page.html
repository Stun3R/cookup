<ion-header mode="ios">
  <ion-toolbar>
    <ion-title
      class="stocks__toolbar-title"
      style="
        padding-bottom: 6px;
        padding-left: unset;
        padding-right: unset;
        -webkit-padding-start: 16px;
        padding-inline-start: 16px;
        -webkit-padding-end: 16px;
        padding-inline-end: 16px;
        text-align: left;
        font-weight: 700;
      "
    >
      Stocks
    </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <section class="stocks__section">
      <div class="stocks__categories" (click)="switchPlace('all')">
        <span class="stocks__categories-type">
          Tous
          <ion-badge
            class="stocks__categories-badge"
            [color]="currentPlace === 'all' ? 'secondary' : 'light'"
          >
            39
          </ion-badge>
        </span>
        <ion-text [color]="currentPlace === 'all' ? 'secondary' : 'medium'"
          >•</ion-text
        >
      </div>
      <div class="stocks__categories" (click)="switchPlace('fridge')">
        <span class="stocks__categories-type">
          Frigo
          <ion-badge
            class="stocks__categories-badge"
            [color]="currentPlace === 'fridge' ? 'secondary' : 'light'"
          >
            12
          </ion-badge>
        </span>
        <ion-text [color]="currentPlace === 'fridge' ? 'secondary' : 'medium'">
          •
        </ion-text>
      </div>
      <div class="stocks__categories" (click)="switchPlace('freezer')">
        <span class="stocks__categories-type">
          Congélateur
          <ion-badge
            class="stocks__categories-badge"
            [color]="currentPlace === 'freezer' ? 'secondary' : 'light'"
          >
            16
          </ion-badge>
        </span>
        <ion-text [color]="currentPlace === 'freezer' ? 'secondary' : 'medium'">
          •
        </ion-text>
      </div>
      <div class="stocks__categories" (click)="switchPlace('pantry')">
        <span class="stocks__categories-type">
          Cellier
          <ion-badge
            class="stocks__categories-badge"
            [color]="currentPlace === 'pantry' ? 'secondary' : 'light'"
          >
            11
          </ion-badge>
        </span>
        <ion-text [color]="currentPlace === 'pantry' ? 'secondary' : 'medium'">
          •
        </ion-text>
      </div>
    </section>
  </ion-toolbar>
</ion-header>

<ion-content class="stocks__content">
  <ion-searchbar placeholder="Rechercher un aliment..."></ion-searchbar>

  <!--   <ion-item-divider>
    <ion-label>F</ion-label>
  </ion-item-divider>

  <ion-item lines="none" detail="true">
    <ion-icon slot="start" src="assets/icon/food-categories/fresh.svg">
    </ion-icon>
    <ion-label>
      <h2 class="stocks__list-content stocks__list-mb">
        Fromage de chèvre
        <ion-badge slot="end" color="secondary">
          300g
        </ion-badge>
      </h2>
      <p class="stocks__list-content stocks__list-infos">
        <ion-text color="medium">
          Expire le : 09/06/2020
        </ion-text>
        <ion-text color="medium">
          Réfrigérateur
        </ion-text>
      </p>
    </ion-label>
  </ion-item> -->
  <ion-list>
    <ion-item-sliding *ngFor="let food of foods[currentPlace]; let i = index">
      <ion-item lines="none" [routerLink]="['/private/stocks/' + food.id]">
        <ion-icon
          slot="start"
          [src]="'assets/icon/food-categories/' + food?.food_category?.icon"
        >
        </ion-icon>
        <ion-label>
          <h2 class="stocks__list-content stocks__list-mb">
            {{ food?.name }}
            <ion-badge slot="end" color="secondary">
              {{ food?.quantity + food?.unit }}
            </ion-badge>
          </h2>
          <p class="stocks__list-content stocks__list-infos">
            <ion-text color="medium">
              Expire le : {{ food?.expire_at | date: 'dd/LL/y' }}
            </ion-text>
            <ion-text color="medium">
              {{ places[food?.place] }}
            </ion-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item-options side="end">
        <ion-item-option color="danger" (click)="deleteFood(food?.id, i)">
          <ion-icon slot="icon-only" name="trash" size="small"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>
